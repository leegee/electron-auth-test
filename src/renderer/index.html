<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="index.css" />
</head>

<body>
  <h1>Electron GitHub OAuth</h1>
  <button id="login">Login with GitHub</button>
  <p id="status"></p>

  <script>
    const loginBtn = document.getElementById('login');
    const status = document.getElementById('status');

    loginBtn.addEventListener('click', () => {
      loginBtn.setAttribute('disabled', true);
      window.electronAPI.loginGitHub();
    });

    window.electronAPI.onOAuthSuccess(() => {
      status.innerText = "Logged in with GitHub";
      loginBtn.setAttribute('style', 'display:none')
    });
  </script>